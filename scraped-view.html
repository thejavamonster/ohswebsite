<!doctype html>
<html><head><meta charset="utf-8"><title>Scraped Courses View</title>
<style>body{font-family:system-ui,Segoe UI,Helvetica,Arial;background:#fafafa;color:#111} .card{background:#fff;border:1px solid #ddd;padding:12px;margin:10px;border-radius:6px} .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:10px}</style>
</head><body>
<h1>Scraped Courses</h1>
<div id="status">Loading...</div>
<div id="list" class="grid"></div>
<script>
async function load(){
  const s=document.getElementById('status');
  try{
    const res=await fetch('/api/scraped-courses');
    if(!res.ok){ s.textContent='No scraped file available yet.'; return }
    const j=await res.json();
    s.textContent=`Found ${j.total} courses`;
    const list=document.getElementById('list');
    list.innerHTML='';
    for(const c of j.results){
      const div=document.createElement('div');div.className='card';
      div.innerHTML=`<h3>${c.name||c.code||'Untitled'}</h3><p><strong>Code:</strong> ${c.code||''} ${c.subject?'<span> | '+c.subject+'</span>':''}</p><p>${(c.description||'').slice(0,200)}</p><a href="/courses/${c.slug}">Open</a>`;
      list.appendChild(div);
    }
  }catch(e){
    s.textContent='Failed to load scraped courses';
    console.error(e);
  }
}
load();
</script>
</body></html>